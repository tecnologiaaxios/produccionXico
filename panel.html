<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link href='logo.ico' rel='shortcut icon' type='image/x-icon'/>

  <title>Recepción de pedidos</title>

  <!-- Bootstrap Core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/bootstrap-theme.min.css">
  <!-- DataTables CSS -->
  <link href="vendor/datatables-plugins/dataTables.bootstrap.css" rel="stylesheet">

  <!-- DataTables Responsive CSS -->
  <link href="vendor/datatables-responsive/dataTables.responsive.css" rel="stylesheet">
  <!-- MetisMenu CSS -->
  <link href="vendor/metisMenu/metisMenu.min.css" rel="stylesheet">
  <!-- Custom CSS -->
  <link href="dist/css/sb-admin-2.css" rel="stylesheet">
  <!-- Morris Charts CSS -->
  <link href="vendor/morrisjs/morris.css" rel="stylesheet">
  <!-- Custom Fonts -->
  <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="dist/css/bootstrap-select.css">

  <link rel="stylesheet" href="css/bootstrap-datepicker.min.css">
  <link rel="stylesheet" href="css/bootstrap-datepicker3.min.css">
  <link rel="stylesheet" href="css/bootstrap-datepicker3.standalone.css">
  <link rel="stylesheet" href="css/table-scrollable.css">
  <link rel="stylesheet" href="css/loader.css">
  <link rel="stylesheet" href="css/bootstrap-switch.min.css">
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>
  <div id="wrapper">
    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-static-top fixed" role="navigation" style="margin-bottom: 0">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <img class="navbar-brand" id="logo" src="logo.png"></img>
      </div>
      <!-- /.navbar-header -->
      <ul class="nav navbar-top-links navbar-right no-padding ">
        <!--<li id="campana" onclick="mostrarNotificaciones()" class="dropdown no-padding">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">
            <i class="fa fa-bell-o" style="font-size: 25px;" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title="Notificaciones"></i>
            <span id="spanNotificaciones" style="background-color: red; display: none;" class="badge"></span>
            <i class="fa fa-caret-down"></i>
          </a>
          <ul id="contenedorNotificaciones" class="dropdown-menu dropdown-alerts">
          </ul>
          <div id="spanNotificaciones" style="display:none; background-color:red; color:white; border-radius:5px; padding:10%;  font-size:10px; font-family: intelo-bold; transform:translate(10px, -22px);"></div>
        </li>
        <li><img src="http://lorempixel.com/40/40/" alt="..." class="img-circle"></li>-->
        <li class="dropdown no-padding">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">
            <i class="fa fa-cog rotateMe" style="font-size: 25px;" aria-hidden="true"></i>
            <i class="fa fa-caret-down"></i>
          </a>
          <ul class="dropdown-menu dropdown-alerts">
            <li class="divider"></li>
            <li>
              <a onclick="logout()"><span class="glyphicon glyphicon-off"></span> Cerrar sesión</a>
            </li>
          </ul>
          <!-- /.dropdown-alerts -->
        </li>
        <!-- /.dropdown -->
      </ul>
      <!-- /.navbar-top-links -->
    </nav>
    <div class="barside">
      <img class="navbar-brand" id="logo" src="logo.png"></img>
      <ul style="margin-top:50px; list-style:none; font-size:50px; color:white; padding:28px;">
        <li>
          <!-- <a style="color:white; text-decoration: none;" href="registrarBatida.html" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
            <span style="font-size:50px;" class="fa fa-industry no-padding"></span>
            <p style="white; font-size:11px; width:200px; margin-left:-14px;">Registrar batida</p>
          </a> -->
        </li>
      </ul>
    </div>
    <div id="page-wrapper">
      <div class="row">
        <ul class="nav nav-pills nav-justified" style="padding:30px;">
          <li role="presentation" class="active"><a class="pills" id="iniciarBatidas" href="#iniciarBatidaTab" aria-controls="iniciarBatidaTab" role="tab" data-toggle="tab">Iniciar batidas</a></li>
          <li role="presentation"><a onclick="mostrarBatidas()" class="pills" id="batidasEnProceso" href="#batidasEnProcesoTab" aria-controls="batidasEnProcesoTab" role="tab" data-toggle="tab">Batidas en proceso</a></li>
          <li role="presentation"><a onclick="mostrarBatidasFinalizadas()" class="pills" id="batidasFinalizadas" href="#batidasFinalizadasTab" aria-controls="batidasFinalizadasTab" role="tab" data-toggle="tab">Batidas finalizadas</a></li>
        </ul>
        <div class="tab-content">
          <div role="tabpanel" class="tab-pane active" id="iniciarBatidaTab">
            <div class="container-fluid">
              <div class="row">
                <div class="col-lg-10 col-lg-offset-1">
                  <h1 class="page-header">Registrar batida</h1>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-8 col-md-8 col-lg-offset-1">
                  <div class="panel panel-primary">
                    <div class="panel-heading">
                      Formulario de registro
                    </div>
                    <div class="panel-body">
                      <form role="form">
                        <div class="row">
                          <div class="col-md-3">
                            <div class="form-group">
                              <label for="clave">Clave batida:</label>
                              <input type="number" class="form-control text-right" name="clave" id="clave" placeholder="" readonly>
                            </div>
                          </div>
                          <div class="col-md-3">
                            <div class="form-group">
                              <label for="producto">Clave producto:</label>
                              <input type="text" name="producto" id="producto" class="form-control" placeholder="">
                              <span id="helpBlockProducto" class="hidden help-block">Ingresa una clave</span>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label for="nombreProducto">Nombre del producto:</label>
                              <input type="text" name="nombreProducto" id="nombreProducto" class="form-control" placeholder="" readonly>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-3">
                            <div class="form-group">
                              <label for="fechaCaptura">Fecha:</label>
                              <input type="date" class="form-control" name="fechaCaptura" id="fechaCaptura" readonly>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-3">
                            <!--<div class="form-inline">

                            </div>-->
                            <div class="form-group">
                              <label for="numBatidas">Batidas:</label>
                              <div class="input-group">
                                <input type="number" name="numBatidas" id="numBatidas" min="1" class="form-control" readonly>
                                <span class="input-group-btn">
                                  <button id="btnGenerarFormula" title="Generar fórmula" data-toggle="tooltip" data-placement="bottom" type="button" class="btn btn-primary" disabled="disabled"><i class="fa fa-flask" aria-hidden="true"></i></button>
                                </span>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-3">
                            <div class="form-group">
                              <label for="kilosProduccion">Kilos producción:</label>
                              <input type="number" class="form-control" name="kilosProduccion" id="kilosProduccion" readonly>
                            </div>
                          </div>
                        </div>
                      </form><br>
                      <table class="table table-bordered table-condensed table-hover table-striped" id="tabla-subProductos">
                        <thead>
                          <tr>
                            <th>Clave</th>
                            <th>SubProducto</th>
                            <th>Formula base</th>
                            <th>Valor Constante</th>
                            <!-- <th>Eliminar</th> -->
                          </tr>
                        </thead>
                        <tbody>

                        </tbody>
                      </table><br>
                      <div class="form-group">
                        <label for="cbAgregarSustitutos">Agregar sustitutos:</label>
                        <input readonly id="cbAgregarSustitutos" name="cbAgregarSustitutos" type="checkbox" data-size="mini" data-on-color="success" data-off-color="danger" data-on-text="Sí" data-off-text="No">
                        <!-- <input disabled id="cbAgregarSustitutos" name="cbAgregarSustitutos" data-toggle="toggle" data-on="Sí" data-off="No" data-onstyle="success" data-offstyle="danger" type="checkbox" data-size="small" data-width="58" data-height="34"> -->
                      </div>
                      <div class="collapse" id="collapseSustitutos">
                        <div style="max-height:200px; overflow:true;">
                          <table width="100%" id="tabla-sustitutos" class="table table-bordered table-condensed table-hover table-striped">
                            <thead>
                              <tr>
                                <th>Clave</th>
                                <th>SubProducto</th>
                                <th>Formula base</th>
                                <th>Valor Constante</th>
                                <th>Usar</th>
                              </tr>
                            </thead>
                            <tbody id="tbody-tabla-sustitutos">

                            </tbody>
                          </table>
                        </div>
                      </div>
                      <button disabled="disabled" type="button" data-toggle="modal" data-target="#modalConfirmarGuardar" class="btn btn-success pull-right" id="btnGuardarBatida" name="btnGuardarBatida">Guardar batida <!--<i class="fa fa-floppy-o" aria-hidden="true"></i>--></button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="batidasEnProcesoTab">
            <div class="container-fluid">
              <div class="row">
                <div class="col-lg-10 col-lg-offset-1">
                  <h1 class="page-header">Batidas registradas</h1>
                </div>
              </div>
              <div class="row">
                <div id="contenedor-batidasRegistradas" class="col-md-10 col-lg-offset-1">
                  <!-- <div id="loader1" class="loader"></div> -->
                  <table id="tabla-batidasRegistradas" class="table table-striped table-condensed table-hover table-bordered">
                    <thead>
                      <th>Clave</th>
                      <th>Clave producto</th>
                      <th>Nombre producto</th>
                      <th>Núm. de batidas</th>
                      <th>Fecha de captura</th>
                      <th>Editar</th>
                      <th>Finalizar</th>
                    </thead>
                    <tbody>

                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="batidasFinalizadasTab">
            <div class="container-fluid">
              <div class="row">
                <div class="col-lg-10 col-lg-offset-1">
                  <h1 class="page-header">Batidas finalizadas <i class="fa fa-check-square" style="color: #45E400;" aria-hidden="true"></i></h1>
                </div>
              </div>
              <div class="row">
                <div id="contenedor-batidasRegistradas" class="col-md-10 col-lg-offset-1">
                  <!-- <div id="loader2" class="loader"></div> -->
                  <table id="tabla-batidasFinalizadas" class="table table-striped table-condensed table-hover table-bordered">
                    <thead>
                      <th>Clave</th>
                      <th>Clave producto</th>
                      <th>Nombre producto</th>
                      <th>Núm. de batidas</th>
                      <th>Fecha de captura</th>
                    </thead>
                    <tbody>

                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="settings">...</div>
        </div>
      </div>
    </div><!-- /#page-wrapper -->
  </div><!-- /#wrapper -->
  <div id="modalEditar"class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Lista de subproductos</h4>
        </div>
        <div class="modal-body">
          <form>
            <div class="row">
              <div class="col-md-4">
                <div class="form-group">
                  <label for="kilos">Kilos:</label>
                  <input type="number" class="form-control" name="kilos" id="kilos">
                  <span id="helpBlockKilos" class="hidden help-block">Campo obligatorio</span>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label for="piezas">Piezas:</label>
                  <input type="number" class="form-control" name="piezas" id="piezas">
                  <span id="helpBlockPiezas" class="hidden help-block">Campo obligatorio</span>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label for="merma">Merma:</label>
                  <div class="input-group">
                    <input type="number" class="form-control" name="merma" id="merma" readonly>
                    <span class="input-group-addon">%</span>
                  </div>
                  <span id="helpBlockMerma" class="hidden help-block">Campo obligatorio</span>
                </div>
              </div>
            </div>
          </form>
          <label for="">SubProductos:</label>
          <table id="tablaModalEditar"class="table table-hover table-striped table-condensed table-bordered">
            <thead>
              <tr>
                <th>Clave</th>
                <th>SubProducto</th>
                <th>Valor Constante</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
          <button id="btnGuardarCambios" type="button" class="btn btn-primary">Guardar</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  <div id="modalFinalizar"class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Finalizar batida</h4>
        </div>
        <div class="modal-body">
          <p>¿Está usted seguro de finalizar esta batida?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
          <button id="btnFinalizar" type="button" class="btn btn-primary">Si</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  <div id="modalConfirmarGuardar"class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Guardar batida</h4>
        </div>
        <div class="modal-body">
          <p>¿Está usted seguro de guardar esta batida?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
          <button id="btnGuardar" type="button" onclick="guardarBatida()" data-dismiss="modal" class="btn btn-primary">Si</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
  <!-- jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" onload="window.$ = window.jQuery = module.exports;"></script>
  <!--<script src="js/jquery-3.2.1.min.js"></script>-->
  <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script>window.$ = window.jQuery = require('jquery');</script>-->
  <!-- If the require doesn't work, include first the jQuery file
  <script src="jquery-3.0.0.min.js"></script>-->
  <!--<script src="js/jquery-3.2.1.min.js" onload="window.$ = window.jQuery = module.exports;"></script>-->
  <!--<script>window.$ = window.jQuery = require('/js/jquery-3.2.1.min.js');</script>-->


  <!--<script src="js/jquery-3.2.1.js"></script>-->
  <!-- Bootstrap Core JavaScript -->
  <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
  <!-- Metis Menu Plugin JavaScript -->
  <script src="dist/js/bootstrap-select.js"></script>
  <script src="vendor/metisMenu/metisMenu.min.js"></script>
  <!-- Custom Theme JavaScript -->
  <script src="dist/js/sb-admin-2.js"></script>
  <!-- DataTables JavaScript -->
  <script src="vendor/datatables/js/jquery.dataTables.min.js"></script>
  <script src="vendor/datatables-plugins/dataTables.bootstrap.min.js"></script>
  <script src="vendor/datatables-responsive/dataTables.responsive.js"></script>

  <script type="text/javascript" src="js/bootstrap-datepicker.min.js"></script>
  <script type="text/javascript" src="js/bootstrap-datepicker.es.min.js"></script>
  <script src="js/bootstrap-tooltip.js"></script>
  <script src="js/jquery.toaster.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>
  <script src="js/mindmup-editabletable.js"></script>
  <script src="js/bootstrap-switch.min.js"></script>
  <!--<script src="js/jspdf.debug.js"></script>-->
  <script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyA19j6-VLNcXLJfBkfd_lZfFFbzg6z0Imc",
    authDomain: "xico-netcontrol.firebaseapp.com",
    databaseURL: "https://xico-netcontrol.firebaseio.com",
    projectId: "xico-netcontrol",
    storageBucket: "xico-netcontrol.appspot.com",
    messagingSenderId: "248615705793"
  };
  firebase.initializeApp(config);
  </script>
  <!--<script src='https://cdnjs.cloudflare.com/ajax/libs/dragula/$VERSION/dragula.min.js'></script>-->
  <script src="js/moment-with-locales.js"></script>
  <script src="js/panel.js"></script>
</body>
</html>
